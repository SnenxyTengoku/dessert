---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: mazurek
description: sneexy's personal and opinionated fedora niri image

# the base image to build on top of (FROM) and the version tag to use
base-image: ghcr.io/wayblueorg/niri
image-version: 43 # latest is also supported if you want new updates ASAP

modules:
  # packages
  - from-file: packages/dnf.yml # base package selection
  - from-file: packages/flatpaks.yml # base default flatpaks
  - from-file: packages/mazurek/dnf.yml # mazurek package selection
  - from-file: packages/mazurek/flatpaks.yml # mazurek flatpak flatpaks
  - from-file: kernels/bazzite.yml # bazzite kernel

  # pre-run
  - from-file: shared/files.yml # shared base filesystem
  - from-file: shared/scripts.yml # default scripts selection

  # wuzetka files
  - type: files
    files:
      - source: system/wuzetka
        destination: /

  # copy files and software from helper images
  #- type: containerfile
  #  snippets:
  #    - COPY --from=ghcr.io/snenxytengoku/wuzetka-helper /artifacts/usr /usr
  #    - COPY --from=ghcr.io/snenxytengoku/wuzetka-helper /artifacts/etc /etc

  - type: script
    scripts:
      # customization
      - additions/sddm-astronaut-theme.sh
      # ---
      - flavors/mazurek.sh

  # post-run
  - from-file: shared/fonts.yml # fonts
  - from-file: shared/bling.yml # ublue bling selection
  - from-file: shared/systemd.yml # default systemd services

  #- type: gschema-overrides
  #  include:
  #    - zz1-wuzetka.gschema.override

  - type: signing